{{! This will show the post and its comments }}
<article class="bg-white shadow rounded p-6">
	<h1 class="text-2xl font-bold mb-2">{{post.title}}</h1>
	<p class="text-gray-600">{{post.content}}</p>

	<div class="text-sm text-gray-400 mt-2">
		Posted by
		{{post.user.user_id}}
		on
		<span title="{{post.createdAt}}">{{format_date post.createdAt}}</span> 
	</div>
</article>

{{! Make sure the user is logged in before showing the comment form }}
{{#if logged_in}}
	{{! Comment form will go here }}
	<form id="comment-form" class="bg-white shadow rounded p-4 mt-4">
		<textarea
			id="comment-content"
			class="w-full border rounded p-2"
			required
		></textarea>
		<button
			type="submit"
			class="bg-blue-500 text-white px-4 py-2 rounded mt-2"
			id="comment-btn"
		>Add Comment</button>
	</form>
{{/if}}

{{! Show all comments that have a matching post_id }}
{{#if post.comments}}
	<div class="comments">
		<h2 class="text-xl font-bold mb-2">Comments:</h2>

		{{#each post.comments}}
			<div class="comment bg-gray-100 p-4 rounded-lg mb-4">
				<div class="text-sm text-gray-600">
						Comment by
						{{this.user.user_id}}
						on
					<span class="text-sm text-gray-600" title="{{this.createdAt}}">{{format_date this.createdAt}}</span>
				</div>
				<p class="mt-2">{{this.content}}</p>
			</div>
		{{/each}}

	</div>
{{else}}
	<p class="text-gray-500 italic">No comments yet.</p>
{{/if}}

			

{{! Load the addComment.js file --}}
<script src="/js/addComment.js"></script>